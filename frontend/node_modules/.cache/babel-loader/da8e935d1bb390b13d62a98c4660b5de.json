{"ast":null,"code":"import _classCallCheck from \"/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Login from \"./components/login\";\nimport NavBar from \"./components/navbar\";\nimport Register from \"./components/register\";\nimport UserPage from \"./components/userPage\";\nimport AirlinesPage from \"./components/airlinesPage\";\nimport Ticket from \"./components/ticket\";\nimport Request from \"./components/request\";\nimport axios from 'axios';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      page: \"Login\",\n      username: \"\",\n      password: \"\",\n      registerUserId: 0,\n      registerUsername: \"\",\n      registerPassword: \"\",\n      registerAirlines: \"\",\n      user: {},\n      tickets: [],\n      requests: [],\n      ticketNumber: 0,\n      date: \"\",\n      reason: \"\"\n    };\n\n    _this.getTicketsRequests = function () {\n      axios.get('http://localhost:4000/ask/tickets').then(function (t) {\n        _this.setState({\n          tickets: t.data\n        });\n\n        axios.get('http://localhost:4000/ask/requests').then(function (r) {\n          _this.setState({\n            requests: r.data\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.getRequests = function () {\n      axios.get('http://localhost:4000/ask/requests').then(function (r) {\n        _this.setState({\n          requests: r.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleUsername = function (text) {\n      _this.setState({\n        username: text.target.value\n      });\n    };\n\n    _this.handlePassword = function (text) {\n      _this.setState({\n        password: text.target.value\n      });\n    };\n\n    _this.handleLogin = function () {\n      var obj = {};\n      obj.username = _this.state.username;\n      obj.password = _this.state.password;\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/ask/login',\n        data: obj,\n        config: {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      }).then(function (res) {\n        var user = res.data;\n\n        if (user.airlines === \"yes\") {\n          _this.setState({\n            page: \"Airlines\",\n            user: res.data\n          });\n        } else if (user.airlines === \"no\") {\n          _this.setState({\n            page: \"User\",\n            user: res.data\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleRegisterUserId = function (text) {\n      _this.setState({\n        registerUserId: text.target.value\n      });\n    };\n\n    _this.handleRegisterUsername = function (text) {\n      _this.setState({\n        registerUsername: text.target.value\n      });\n    };\n\n    _this.handleRegisterPassword = function (text) {\n      _this.setState({\n        registerPassword: text.target.value\n      });\n    };\n\n    _this.handleRegisterAirlines = function (text) {\n      _this.setState({\n        registerAirlines: text.target.value\n      });\n    };\n\n    _this.handleRegister = function () {\n      var obj = {};\n      obj.userId = _this.state.registerUserId;\n      obj.username = _this.state.registerUsername;\n      obj.password = _this.state.registerPassword;\n      obj.airlines = _this.state.registerAirlines;\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/ask/register_user',\n        data: obj,\n        config: {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      }).then(function (res) {\n        _this.setState({\n          page: \"Login\"\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleUnregister = function (username) {\n      var obj = {};\n      obj.username = _this.state.username;\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/ask/unregister_user',\n        data: obj,\n        config: {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      }).then(function (res) {\n        _this.setState({\n          page: \"Login\"\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handlePageChange = function (page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleTicketNumber = function (text) {\n      _this.setState({\n        ticketNumber: text.target.value\n      });\n    };\n\n    _this.handleDate = function (text) {\n      _this.setState({\n        date: text.target.value\n      });\n    };\n\n    _this.handleReason = function (text) {\n      _this.setState({\n        reason: text.target.value\n      });\n    };\n\n    _this.request = function (username, ticketNumber, date, reason) {\n      var obj = {};\n      obj.username = username;\n      obj.ticketNumber = ticketNumber;\n      obj.date = date;\n      obj.reason = reason;\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/ask/request',\n        data: obj,\n        config: {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      }).then(function (res) {\n        _this.setState({\n          requests: res.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.approveReject = function (username, action, ticketNumber) {\n      var obj = {};\n      obj.username = username;\n      obj.action = action;\n      obj.ticketNumber = ticketNumber;\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/ask/approve_reject',\n        data: obj,\n        config: {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      }).then(function (res) {\n        _this.setState({\n          requests: res.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.listTickets = function (username, page) {\n      return _this.state.tickets.map(function (t, i) {\n        if (username === t.user) {\n          return React.createElement(Ticket, {\n            page: page,\n            ticket: t,\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          });\n        }\n      });\n    };\n\n    _this.listRequests = function (username, page, approveReject) {\n      return _this.state.requests.map(function (r, i) {\n        if (page === \"User\" && username === r.user || page === \"Airlines\" && username === r.airlines || page === \"Airlines\" && r.status === \"Rejected\") {\n          return React.createElement(Request, {\n            page: page,\n            request: r,\n            key: i,\n            approveReject: approveReject,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"main\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, this.state.page === \"User\" || this.state.page === \"Airlines\" ? React.createElement(NavBar, {\n        props: this.state,\n        onPageChange: this.handlePageChange,\n        onUnregister: this.handleUnregister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }) : null, this.state.page === \"Login\" ? React.createElement(Login, {\n        props: this.state,\n        onUsernameChange: this.handleUsername,\n        onPasswordChange: this.handlePassword,\n        onLogin: this.handleLogin,\n        onPageChange: this.handlePageChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }) : null, this.state.page === \"Register\" ? React.createElement(Register, {\n        props: this.state,\n        onRegisterUserIdChange: this.handleRegisterUserId,\n        onRegisterUsernameChange: this.handleRegisterUsername,\n        onRegisterPasswordChange: this.handleRegisterPassword,\n        onRegisterAirlinesChange: this.handleRegisterAirlines,\n        onRegister: this.handleRegister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }) : null, this.state.page === \"User\" ? React.createElement(UserPage, {\n        props: this.state,\n        handleTicketNumber: this.handleTicketNumber,\n        handleDate: this.handleDate,\n        handleReason: this.handleReason,\n        request: this.request,\n        listTickets: this.listTickets,\n        listRequests: this.listRequests,\n        getTicketsRequests: this.getTicketsRequests,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }) : null, this.state.page === \"Airlines\" ? React.createElement(AirlinesPage, {\n        props: this.state,\n        approveReject: this.approveReject,\n        listRequests: this.listRequests,\n        getRequests: this.getRequests,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/madhusudansaha/MS/Spring_2019/526-Blockchain/Projects/Project2/msahaLab2/part3/frontend/src/App.js"],"names":["React","Component","Login","NavBar","Register","UserPage","AirlinesPage","Ticket","Request","axios","App","state","page","username","password","registerUserId","registerUsername","registerPassword","registerAirlines","user","tickets","requests","ticketNumber","date","reason","getTicketsRequests","get","then","t","setState","data","r","catch","error","console","log","getRequests","handleUsername","text","target","value","handlePassword","handleLogin","obj","method","url","config","headers","res","airlines","handleRegisterUserId","handleRegisterUsername","handleRegisterPassword","handleRegisterAirlines","handleRegister","userId","handleUnregister","handlePageChange","handleTicketNumber","handleDate","handleReason","request","approveReject","action","listTickets","map","i","listRequests","status"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport Login from \"./components/login\";\nimport NavBar from \"./components/navbar\";\nimport Register from \"./components/register\";\nimport UserPage from \"./components/userPage\";\nimport AirlinesPage from \"./components/airlinesPage\";\nimport Ticket from \"./components/ticket\";\nimport Request from \"./components/request\";\n\nimport axios from 'axios';\n\nclass App extends Component {\n\n    state = {\n\tpage: \"Login\",\n\tusername: \"\",\n\tpassword: \"\",\n\tregisterUserId: 0,\n\tregisterUsername: \"\",\n\tregisterPassword: \"\",\n\tregisterAirlines: \"\",\n\tuser: {},\n\ttickets: [],\n\trequests: [],\n\tticketNumber: 0,\n\tdate: \"\",\n\treason: \"\"\n    };\n\n    getTicketsRequests = () => {\n\taxios.get('http://localhost:4000/ask/tickets')\n\t    .then(t => {\n\t\tthis.setState({tickets: t.data});\n\t\t\n\t\taxios.get('http://localhost:4000/ask/requests')\n\t\t    .then(r => {\n\t\t\tthis.setState({requests: r.data});\n\t\t    })\n\t\t    .catch(function (error){\n\t\t\tconsole.log(error);\n\t\t    })\t\t\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\t\n    }\n    \n    getRequests = () => {\n\taxios.get('http://localhost:4000/ask/requests')\n\t    .then(r => {\n\t\tthis.setState({requests: r.data});\n\t\t\t\t\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\t\n    }\n\n    handleUsername = (text) => {\n\tthis.setState({username: text.target.value})\n    }\n    \n    handlePassword = (text) => {\n\tthis.setState({password: text.target.value})\n    }\n\n    handleLogin = () => {\n\tlet obj = {};\n\tobj.username = this.state.username;\n\tobj.password = this.state.password;\n\n\taxios({\n\t    method: 'post',\n\t    url: 'http://localhost:4000/ask/login',\n\t    data: obj,\n\t    config: { headers: {'Content-Type': 'application/json' }}\n\t})\n\t    .then(res => {\n\t\tconst user = res.data;\n\t\tif(user.airlines === \"yes\") {\n\t\t    this.setState({page: \"Airlines\", user: res.data});\n\t\t}\n\t\telse if(user.airlines === \"no\") {\n\t\t    this.setState({page: \"User\", user: res.data});\n\t\t}\t\t\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\n    }\n\n    handleRegisterUserId = (text) => {\n\tthis.setState({registerUserId: text.target.value})\n    }\n\n    handleRegisterUsername = (text) => {\n\tthis.setState({registerUsername: text.target.value})\n    }\n    \n    handleRegisterPassword = (text) => {\n\tthis.setState({registerPassword: text.target.value})\n    }\n\n    handleRegisterAirlines = (text) => {\n\tthis.setState({registerAirlines: text.target.value})\n    }\n\n    handleRegister = () => {\n\tlet obj = {};\n\tobj.userId = this.state.registerUserId;\n\tobj.username = this.state.registerUsername;\n\tobj.password = this.state.registerPassword;\n\tobj.airlines = this.state.registerAirlines;\n\n\taxios({\n\t    method: 'post',\n\t    url: 'http://localhost:4000/ask/register_user',\n\t    data: obj,\n\t    config: { headers: {'Content-Type': 'application/json' }}\n\t})\n\t    .then(res => {\n\t\tthis.setState({page: \"Login\"});\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\n    }\n\n    handleUnregister = (username) => {\n\tlet obj = {};\n\tobj.username = this.state.username;\n\t\n\taxios({\n\t    method: 'post',\n\t    url: 'http://localhost:4000/ask/unregister_user',\n\t    data: obj,\n\t    config: { headers: {'Content-Type': 'application/json' }}\n\t})\n\t    .then(res => {\n\t\tthis.setState({page: \"Login\"});\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\n    }\n    \n    handlePageChange = (page) => {\n\tthis.setState({page: page});\n    }\n\n    handleTicketNumber = (text) => {\n\tthis.setState({ticketNumber: text.target.value});\n    }\n\n    handleDate = (text) => {\n\tthis.setState({date: text.target.value});\n    }\n\n    handleReason = (text) => {\n\tthis.setState({reason: text.target.value});\n    }\n\n    request = (username, ticketNumber, date, reason) => {\n\tlet obj = {};\n\tobj.username = username;\n\tobj.ticketNumber = ticketNumber;\n\tobj.date = date;\n\tobj.reason = reason;\n\t\n\taxios({\n\t    method: 'post',\n\t    url: 'http://localhost:4000/ask/request',\n\t    data: obj,\n\t    config: { headers: {'Content-Type': 'application/json' }}\n\t})\n\t    .then(res => {\n\t\tthis.setState({requests: res.data});\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\t\n    }\n\n    approveReject = (username, action, ticketNumber) => {\n\tlet obj = {};\n\tobj.username = username;\n\tobj.action = action;\n\tobj.ticketNumber = ticketNumber;\n\t\n\taxios({\n\t    method: 'post',\n\t    url: 'http://localhost:4000/ask/approve_reject',\n\t    data: obj,\n\t    config: { headers: {'Content-Type': 'application/json' }}\n\t})\n\t    .then(res => {\n\t\tthis.setState({requests: res.data});\n\t    })\n\t    .catch(function (error){\n                console.log(error);\n\t    })\t\t\n    }\n    \n    listTickets = (username, page) => {\n        return this.state.tickets.map(function(t, i) {\n\t    if(username === t.user) {\n\t\treturn <Ticket\n\t\tpage={page}\n\t\tticket={t}\n\t\tkey={i} />;\n\t    }\n        })\n    }\n\n    listRequests = (username, page, approveReject) => {\n        return this.state.requests.map(function(r, i) {\n\t    if((page === \"User\" && username === r.user) || (page === \"Airlines\" && username === r.airlines) || (page === \"Airlines\" && r.status === \"Rejected\")) {\n\t\treturn <Request\n\t\tpage={page}\n\t\trequest={r}\n\t\tkey={i}\n\t\tapproveReject={approveReject} />;\n\t    }\n        })\n    }\n    \n    render() {\t\n\treturn (\n\t\t<main className=\"container\">\n\t\t{(this.state.page === \"User\" || this.state.page === \"Airlines\") ? (<NavBar\n\t\t\t\t\t\t\t\t\t\t   props={this.state}\n\t\t\t\t\t\t\t\t\t\t   onPageChange={this.handlePageChange}\n\t\t\t\t\t\t\t\t\t\t   onUnregister={this.handleUnregister}\n\t\t\t\t\t\t\t\t\t\t   />) : null}\n\t    \n\t    {this.state.page === \"Login\" ? (<Login\n\t\t\t\t\t    props={this.state}\n\t\t\t\t\t    onUsernameChange={this.handleUsername}\n\t\t\t\t\t    onPasswordChange={this.handlePassword}\n\t\t\t\t\t    onLogin={this.handleLogin}\n\t\t\t\t\t    onPageChange={this.handlePageChange}\n\t\t\t\t\t    />) : null}\n\t    \n\t    {this.state.page === \"Register\" ? (<Register\n\t\t\t\t\t       props={this.state}\n\t\t\t\t\t       onRegisterUserIdChange={this.handleRegisterUserId}\n\t\t\t\t\t       onRegisterUsernameChange={this.handleRegisterUsername}\n\t\t\t\t\t       onRegisterPasswordChange={this.handleRegisterPassword}\n\t\t\t\t\t       onRegisterAirlinesChange={this.handleRegisterAirlines}\n\t\t\t\t\t       onRegister={this.handleRegister}\n\t\t\t\t\t       />) : null}\n\t    \n\t    {this.state.page === \"User\" ? (<UserPage\n\t\t\t\t\t   props={this.state}\n\t\t\t\t\t   handleTicketNumber={this.handleTicketNumber}\n\t\t\t\t\t   handleDate={this.handleDate}\n\t\t\t\t\t   handleReason={this.handleReason}\n\t\t\t\t\t   request={this.request}\n\t\t\t\t\t   listTickets={this.listTickets}\n\t\t\t\t\t   listRequests={this.listRequests}\n\t\t\t\t\t   getTicketsRequests={this.getTicketsRequests}\n\t\t\t\t\t   />) : null}\n\t    \n\t    {this.state.page === \"Airlines\" ? (<AirlinesPage\n\t\t\t\t\t       props={this.state}\n\t\t\t\t\t       approveReject={this.approveReject}\n\t\t\t\t\t       listRequests={this.listRequests}\n\t\t\t\t\t       getRequests={this.getRequests}\n\t\t\t\t\t       />) : null}\n\t    </main>\n\t);\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}